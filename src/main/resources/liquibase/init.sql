--liquibase formatted sql

--changeset bizin:1
CREATE TABLE saved_users(
                            id BIGINT generated by default as identity primary key,
                            phone TEXT NOT NULL,
                            chat_id BIGINT NOT NULL
);

--changeset bizin:2
CREATE TABLE dog(
                    dog_id BIGINT generated by default as identity primary key,
                    nick_name TEXT NOT NULL,
                    birth_year INT NOT NULL,
                    gender TEXT NOT NULL,
                    color TEXT NOT NULL,
                    species TEXT NOT NULL,
                    description TEXT NOT NULL,
                    status TEXT NOT NULL,
                    id_dog_owner BIGINT NOT NULL
);

--changeset bizin:3
CREATE TABLE cat(
                    cat_id BIGINT generated by default as identity primary key,
                    nick_name TEXT NOT NULL,
                    birth_year INT NOT NULL,
                    gender TEXT NOT NULL,
                    color TEXT NOT NULL,
                    species TEXT NOT NULL,
                    description TEXT NOT NULL,
                    status TEXT NOT NULL,
                    id_cat_owner BIGINT
);

--changeset bizin:4
CREATE TABLE cat_owner(
                          id_cat_owner BIGINT generated by default as identity primary key,
                          chat_id BIGINT NOT NULL,
                          full_name TEXT NOT NULL,
                          phone TEXT NOT NULL,
                          address TEXT NOT NULL,
                          status TEXT NOT NULL,
                          finish DATE NOT NULL,
                          cat_id BIGINT
);

--changeset bizin:5
CREATE TABLE dog_owner(
                          id_dog_owner BIGINT generated by default as identity primary key,
                          chat_id BIGINT NOT NULL,
                          full_name TEXT NOT NULL,
                          phone TEXT NOT NULL,
                          address TEXT NOT NULL,
                          status TEXT NOT NULL,
                          finish DATE NOT NULL,
                          dog_id BIGINT NOT NULL
);

--changeset bizin:6
CREATE TABLE cat_reports(
                          id BIGINT generated by default as identity primary key,
                          cat_id BIGINT NOT NULL,
                          id_cat_owner BIGINT NOT NULL,
                          changes TEXT NOT NULL,
                          report_date TIMESTAMP NOT NULL,
                          photo bytea NOT NULL
);

--changeset bizin:7
CREATE TABLE dog_reports(
                            id BIGINT generated by default as identity primary key,
                            dog_id BIGINT NOT NULL,
                            id_dog_owner BIGINT NOT NULL,
                            changes TEXT NOT NULL,
                            report_date TIMESTAMP NOT NULL,
                            photo bytea NOT NULL
);

--changeset bizin:8
CREATE TABLE user_report(
                            id BIGINT generated by default as identity primary key,
                            id_user BIGINT NOT NULL,
                            changes TEXT NOT NULL,
                            report_date TIMESTAMP NOT NULL,
                            photo bytea NOT NULL
);
